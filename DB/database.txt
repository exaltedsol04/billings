
Note:- order_statuses -> created_by (admins_id)
==============================================
ALTER TABLE `bl_product_stock_transaction` ADD `stock_type` INT(11) NOT NULL DEFAULT '1' AFTER `stock`;

ALTER TABLE `bl_product_stock_transaction` CHANGE `transaction_type` `transaction_type` TINYINT(1) NOT NULL DEFAULT '1' COMMENT '1=Purchase Request, 2=Sell POS, 3=Sell APP, 4=Transfer stock, 5=online stock';

ALTER TABLE `bl_product_stock_transaction` CHANGE `stock_type` `stock_type` INT(11) NOT NULL DEFAULT '1' COMMENT '1=pos; 2=online';

ALTER TABLE `bl_admin_stock_purchase_list` ADD `product_stock_transaction_id` INT(11) NOT NULL AFTER `stock`;
ALTER TABLE `bl_admin_stock_purchase_list` CHANGE `product_stock_transaction_id` `product_stock_transaction_id` INT(11) NOT NULL DEFAULT '0'; 

---------New Tables--------
CREATE TABLE `bl_admin_stock_purchase_list` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `vendor_id` int(11) DEFAULT NULL,
  `product_id` int(11) DEFAULT NULL,
  `product_variant_id` int(11) DEFAULT NULL,
  `stock` int(11) DEFAULT NULL,
  `status` tinyint(1) DEFAULT 0 COMMENT '0=pending; 1= approved by admin',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `updated_at` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci


CREATE TABLE `bl_vendors` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(191) DEFAULT NULL,
  `email` varchar(191) DEFAULT NULL,
  `mobile` varchar(191) NOT NULL,
  `status` int(11) NOT NULL DEFAULT 0,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci

CREATE TABLE `bl_packaging_operators` (
  `id` int(10) NOT NULL,
  `admin_id` int(10) NOT NULL,
  `name` varchar(255) NOT NULL,
  `mobile` bigint(20) NOT NULL,
  `street` varchar(255) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

ALTER TABLE `bl_packaging_operators`
  ADD PRIMARY KEY (`id`);

ALTER TABLE `bl_packaging_operators`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT;
COMMIT;

CREATE TABLE `bl_packaging_operators_assign` (
  `id` int(10) NOT NULL,
  `order_id` int(10) NOT NULL,
  `packaging_operator_id` int(10) NOT NULL,
  `assign_by` int(10) NOT NULL,
  `status` tinyint(1) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

ALTER TABLE `bl_packaging_operators_assign`
  ADD PRIMARY KEY (`id`);

ALTER TABLE `bl_packaging_operators_assign`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT;
COMMIT;


---------New Tables--------
============= 22-01-2026==========
ALTER TABLE `bl_admin_stock_purchase_list` ADD `remarks` TEXT NULL DEFAULT NULL AFTER `status`; 

============= 24-01-2026==========
ALTER TABLE `bl_orders` ADD `order_type` VARCHAR(100) NOT NULL COMMENT 'instant, slot' AFTER `cod_payment_status`, ADD `instant_delivery_time` INT(10) NOT NULL COMMENT 'in minutes' AFTER `order_type`, ADD `from_time` DATETIME NULL DEFAULT NULL AFTER `instant_delivery_time`, ADD `to_time` DATETIME NULL DEFAULT NULL AFTER `from_time`;

INSERT INTO `bl_roles` (`id`, `name`, `guard_name`, `created_at`, `updated_at`) VALUES (NULL, 'Packaging Operator', 'web', NULL, NULL); 

ALTER TABLE `bl_order_items` CHANGE `active_status` `active_status` INT(10) NOT NULL; 

============== 27-01-2026========================
ALTER TABLE `bl_packaging_operators_assign` CHANGE `assign_by` `assign_by` INT(10) NOT NULL COMMENT 'admins table id';
ALTER TABLE `bl_packaging_operators_assign` CHANGE `packaging_operator_id` `packaging_operator_id` INT(10) NOT NULL COMMENT 'packaging_operators table id';

============== 28-01-2026========================
ALTER TABLE `bl_packaging_operators` ADD `api_token` VARCHAR(100) NOT NULL AFTER `status`, ADD `token_expiry` DATETIME NULL DEFAULT NULL AFTER `api_token`; 
ALTER TABLE `bl_packaging_operators` ADD `token_type` VARCHAR(50) NOT NULL AFTER `token_expiry`;

INSERT INTO `bl_order_status_lists` (`id`, `status`) VALUES ('4', 'Packed');








